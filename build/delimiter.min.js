angular.module("delimiterApp",[]).directive("delimiterBoxBefore",function(){return{link:function(a,b,c,d){if(a.beforeInputList=[],null!=a.answer&&void 0!=a.answer&&""!=a.answer)for(var e=0;e<a.boxBeforeDelimiter;e++)e<a.boxBeforeDelimiter&&a.beforeInputList.push({index:e,value:a.answer[e]});else for(var e=0;e<a.boxBeforeDelimiter;e++)e<a.boxBeforeDelimiter&&a.beforeInputList.push({index:e,value:""})},template:'        <input type="text" ng-repeat="index in beforeInputList" class="border-all" id="{{\'boxBefore-\'+$index}}"        ng-keyup="autoTab(\'boxBefore-\'+$index,$last)" ng-model="index.value" ng-keypress="index.value = \'\'" ng-required="isRequired == \'true\'"        ng-disabled="isDisabled == \'true\'" />'}}).directive("delimiterBoxAfter",function(){return{link:function(a,b,c,d){if(a.afterInputList=[],null!=a.answer&&void 0!=a.answer&&""!=a.answer)for(var e=0;e<a.boxAfterDelimiter;e++)e<a.boxAfterDelimiter&&a.afterInputList.push({index:e,value:a.answer[e+parseInt(a.boxBeforeDelimiter)+1]});else for(var e=0;e<a.boxAfterDelimiter;e++)e<a.boxAfterDelimiter&&a.afterInputList.push({index:e,value:""})},template:'            <input type="text" ng-repeat="indexAfter in afterInputList" class="border-all" id="{{\'boxAfter-\'+$index}}"            ng-keyup="autoTab(\'boxAfter-\'+$index,$last)" ng-model="indexAfter.value" ng-keypress="indexAfter.value = \'\'" ng-required=" isRequired == \'true\'"             ng-disabled="isDisabled == \'true\'" />'}}).directive("delimiterBox",function(){return{restrict:"A",scope:{delimiter:"@delimiter",boxBeforeDelimiter:"@boxBefore",boxAfterDelimiter:"@boxAfter",isRequired:"@isRequired",isDisabled:"@isDisabled",answer:"=answer",submitAnswer:"&submitAnswer"},link:function(a,b,c,d){if(null!=a.delimiter&&void 0!=a.delimiter&&a.delimiter.length>0){var e=parseInt(a.boxBeforeDelimiter)+parseInt(a.boxAfterDelimiter)+a.delimiter.length;a.autoTab=function(b,c){var d=parseInt(b.split("-")[1]);d++,c?"boxBefore"==b.split("-")[0]&&$("#boxAfter-0").focus():$("#"+b.split("-")[0]+"-"+d).focus();for(var f="",g="",h=0;h<a.boxBeforeDelimiter||h<a.boxAfterDelimiter;h++)h<a.boxBeforeDelimiter&&(f+=a.beforeInputList[h].value),h<a.boxAfterDelimiter&&(g+=a.afterInputList[h].value);if(a.answer=f+a.delimiter+g,e==a.answer.length){window.setTimeout(function(){a.submitAnswer()})}}}else{var e=parseInt(a.boxBeforeDelimiter);a.autoTab=function(b,c){var d=parseInt(b.split("-")[1]);d++,c||$("#"+b.split("-")[0]+"-"+d).focus();for(var f="",g=0;g<a.boxBeforeDelimiter;g++)g<a.boxBeforeDelimiter&&(f+=a.beforeInputList[g].value);if(a.answer=f,e==a.answer.length){window.setTimeout(function(){a.submitAnswer()})}}}},template:'              <div  class="deliminater-box">              <span delimiter-box-before></span>              <label ng-show="delimiter" ng-bind="delimiter"></label>              <span ng-show="delimiter" delimiter-box-after></span>              </div>      '}});